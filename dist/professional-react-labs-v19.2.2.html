<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>professional-react-labs-v19.2.2</title>
    <style>
      @page {
        size: A4;
        margin: 1in 0.75in;
      }

      * {
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          Oxygen, Ubuntu, Cantarell, sans-serif;
        line-height: 1.6;
        color: #2c3e50;
        margin: 0;
        padding: 0;
        font-size: 11pt;
        background: white;
      }

      .page-break {
        page-break-before: always;
      }

      .title-page {
        text-align: center;
        padding: 2in 0;
      }

      .title-page h1 {
        font-size: 2.5em;
        color: #34495e;
        margin-bottom: 0.5em;
        font-weight: 300;
      }

      .title-page .subtitle {
        font-size: 1.2em;
        color: #7f8c8d;
        margin-bottom: 2em;
      }

      .title-page .author {
        font-size: 1.1em;
        color: #34495e;
      }

      .slide-title {
        page-break-before: always;
      }

      .main-title {
        page-break-before: always;
      }

      p {
        margin-bottom: 1em;
        text-align: justify;
      }

      h1 {
        font-size: 1.8em;
        margin-top: 1.5em;
        margin-bottom: 0.8em;
        color: #2c3e50;
        font-weight: 600;
      }

      h2 {
        font-size: 1.5em;
        margin-top: 1.3em;
        margin-bottom: 0.7em;
        color: #34495e;
        font-weight: 500;
      }

      h3 {
        font-size: 1.3em;
        margin-top: 1.2em;
        margin-bottom: 0.6em;
        color: #34495e;
        font-weight: 500;
      }

      h4 {
        font-size: 1.1em;
        margin-top: 1em;
        margin-bottom: 0.5em;
        color: #34495e;
        font-weight: 500;
      }

      ul,
      ol {
        margin-bottom: 1em;
        padding-left: 1.5em;
      }

      li {
        margin-bottom: 0.3em;
      }

      .toc {
        padding: 1em 0;
      }

      .toc h2 {
        text-align: center;
        margin-bottom: 1.5em;
        color: #34495e;
      }

      .toc ul {
        list-style: none;
        padding-left: 0;
      }

      .toc > ul > li {
        margin-bottom: 0.5em;
      }

      .toc ul ul {
        padding-left: 1.5em;
        margin-top: 0.3em;
      }

      .toc ul ul li {
        margin-bottom: 0.3em;
      }

      .toc a {
        text-decoration: none;
        color: #34495e;
        font-weight: 500;
      }

      .toc a:hover {
        color: #3498db;
      }

      .toc-level-1 {
        font-size: 1.1em;
        font-weight: 600;
        color: #2c3e50;
        border-bottom: 1px dotted #bdc3c7;
        padding-bottom: 0.2em;
      }

      .toc-level-2 {
        font-size: 1em;
        font-weight: 400;
        color: #34495e;
        margin-left: 0.5em;
      }

      .toc-level-2:before {
        content: '→ ';
        color: #7f8c8d;
      }

      pre {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 4px;
        padding: 2em;
        margin: 1em 0;
        overflow-x: auto;
        font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas,
          'Courier New', monospace;
        font-size: 0.9em;
        line-height: 0;
      }

      code {
        background-color: #f8f9fa;
        border: 1px solid #e9ecef;
        border-radius: 3px;
        padding: 0.2em 0.4em 0.4em 0.4em;
        font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas,
          'Courier New', monospace;
        font-size: 0.85em;
      }

      pre code {
        background-color: transparent;
        border: none;
        padding: 0;
      }

      blockquote {
        border-left: 4px solid #3498db;
        margin: 1em 0;
        padding: 0.5em 0 0.5em 1em;
        background-color: #f8f9fa;
        font-style: italic;
        color: #555;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        margin: 1em 0;
      }

      th,
      td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }

      th {
        background-color: #f2f2f2;
        font-weight: bold;
      }

      .note {
        background-color: #e8f4f8;
        border-left: 4px solid #3498db;
        padding: 1em;
        margin: 1em 0;
      }

      .warning {
        background-color: #fdf2e9;
        border-left: 4px solid #e67e22;
        padding: 1em;
        margin: 1em 0;
      }

      .error {
        background-color: #fdeaea;
        border-left: 4px solid #e74c3c;
        padding: 1em;
        margin: 1em 0;
      }
    </style>
  </head>
  <body>
    <h1 id="professional-react-development---labs" class="main-title">Professional React Development - Labs</h1>

<p><strong>Complete Lab Instructions for Professional React Development Course</strong></p>

<p><strong>📚 Course Repository:</strong></p>
<p><a href="https://github.com/chrisminnick/professional-reactjs">https://github.com/chrisminnick/professional-reactjs</a></p>

<p><strong>Version:</strong> 19.2.2</p>
<p><strong>Date:</strong> October 2025</p>
<p><strong>Author:</strong> Chris Minnick</p>

<p><strong>Copyright © 2025 WatzThis, Inc.</strong></p>
<p>All rights reserved.</p>

<p><strong>Website:</strong> <a href="https://www.watzthis.com">https://www.watzthis.com</a></p><div class="toc page-break">
<h2>Table of Contents</h2>
<ul>
<li class="toc-level-1"><a href="#lab-01-get-started-with-vite---react">Lab 01: Get Started with Vite / React</a></li>
<li class="toc-level-1"><a href="#lab-02-your-first-component">Lab 02: Your First Component</a></li>
<li class="toc-level-1"><a href="#lab-03-create-more-components-and-writing-tests">Lab 03: Create More Components and Writing Tests</a></li>
<li class="toc-level-1"><a href="#lab-04-static-version">Lab 04: Static Version</a></li>
<li class="toc-level-1"><a href="#lab-05-nodejs-command-line-program-for-data-management">Lab 05: Node.js Command Line Program for Data Management</a></li>
<li class="toc-level-1"><a href="#lab-06-styling-react">Lab 06: Styling React</a></li>
<li class="toc-level-1"><a href="#lab-07-props-and-containers">Lab 07: Props and Containers</a></li>
<li class="toc-level-1"><a href="#lab-08-adding-state">Lab 08: Adding State</a></li>
<li class="toc-level-1"><a href="#lab-09-interactions-events-and-callbacks">Lab 09: Interactions, Events, and Callbacks</a></li>
<li class="toc-level-1"><a href="#lab-10-component-lifecycle-and-ajax">Lab 10: Component Lifecycle and AJAX</a></li>
<li class="toc-level-1"><a href="#lab-11-converting-app-to-a-function-component">Lab 11: Converting App to a Function Component</a></li>
<li class="toc-level-1"><a href="#lab-12-creating-and-using-a-color-theme-context">Lab 12: Creating and using a color theme context</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-13-custom-hooks">Lab 13: Custom Hooks</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-14-converting-to-typescript">Lab 14: Converting to TypeScript</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-15-testing-with-react-testing-library">Lab 15: Testing with React Testing Library</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-16-implementing-redux">Lab 16: Implementing Redux</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
<li class="toc-level-2"><a href="#step-1-create-a-store">Step 1: Create a store</a></li>
<li class="toc-level-2"><a href="#step-2-write-the-reducers">Step 2: Write the reducers</a></li>
<li class="toc-level-2"><a href="#step-3-write-the-actions-and-action-creators">Step 3: Write the Actions and Action Creators</a></li>
<li class="toc-level-2"><a href="#step-4-modify-apptsx-to-use-the-redux-store">Step 4: Modify App.tsx to use the Redux store.</a></li>
<li class="toc-level-2"><a href="#step-5-looking-at-redux-toolkit">Step 5: Looking at Redux Toolkit</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-17-redux-thunk">Lab 17: Redux Thunk</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-18-persisting-data-in-localstorage-using-redux">Lab 18: Persisting data in localStorage using Redux</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-19-react-router">Lab 19: React Router</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
</ul>
<li class="toc-level-1"><a href="#lab-20-microfrontends-with-single-spa">Lab 20: Microfrontends with Single SPA</a></li>
<ul>
<li class="toc-level-2"><a href="#instructions">Instructions</a></li>
<li class="toc-level-2"><a href="#bonus-lab-authentication-with-jwt">Bonus Lab: Authentication with JWT</a></li>
<li class="toc-level-2"><a href="#bonus-lab-react-asteroids">Bonus Lab: React Asteroids</a></li>
</ul>
</ul>
</div><h1 id="lab-01-get-started-with-vite---react" class="main-title">Lab 01: Get Started with Vite / React</h1>

<ol>
<li>Open a new Terminal in VSCode.</li>

<li>Use Vite to make a new React project. This will be the project we’ll be working on for most of the labs in this course.</li>

<pre><code class="language-bash">
npm create vite@latest react-bookstore -- --template react
</code></pre>

<p>If this produces an error, you most likely need to upgrade the version of node and npm on your computer (see the setup instructions).</p>

<li>Go into the new directory.</li>

<pre><code class="language-bash">
cd react-bookstore
</code></pre>

<li>Install the dependencies.</li>

<pre><code class="language-bash">
npm install
</code></pre>

<li>Test that everything was installed and works.</li>

<pre><code class="language-bash">
npm run dev
</code></pre>

<p>After a moment, you’ll see a URL in the terminal. Ctrl-Click the URL to open it in your default browser, or open a browser and go to the URL manually.</p>

<p>If the app was successfully created, you should see the following page:</p>

<p><img src="lab01f001.png" alt="A screenshot of a computer Description automatically generated" style="max-width: 100%; height: auto;" /></p>

<li>Find <strong>App.jsx</strong> inside the <strong>src</strong> directory and open it for editing.</li>

<li>Inside the return statement, delete the <code>&lt;div&gt;</code> containing the Vite and React logos.</li>

<li>Delete the logo import statements from the beginning of the file.</li>

<li>Change the text inside the <code>&lt;h1&gt;</code> element to <code>Welcome to React Bookstore</code>.</li>

<li>Create a new <code>&lt;p&gt;</code> element below the <code>&lt;h1&gt;</code> you added and change its content to a welcome message, such as the following:</li>

<pre><code class="language-">
We have several books. Feel free to browse for as long as you like. Click on a cover image to see details, or click the Add to Cart button to add a book to your shopping cart.
</code></pre>

<li>Open App.css and delete everything except for the first CSS rule:</li>

<pre><code class="language-css">
#root {
  max-width: 1280px;
  margin: 0 auto;
  padding: 2rem;
  text-align: center;
}
</code></pre>

<li>Open index.css and delete the following rule:</li>

<pre><code class="language-css">
body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}
</code></pre>

<li>Return to your web browser and notice that the text has been automatically refreshed (if your app is still running).</li>

<p>If it doesn’t refresh, click the browser refresh button, or return to your Terminal emulator and restart the development server (using <code>npm run dev</code>).</p>

<li>Click the button to see the counter increase. Exciting!</li>

<li>Delete the text below the counter.</li>

<p>If you get an error, make sure that all your opening tags have matching tags.</p>

<p><img src="lab01f002.png" alt="A screenshot of a computer Description automatically generated" style="max-width: 100%; height: auto;" /></p>



</ol>
<hr>

<h1 id="lab-02-your-first-component" class="main-title">Lab 02: Your First Component</h1>

<p>Components let you divide your user interface into independent and reusable pieces. The simplest components simply output some piece of HTML, given some input. All that’s required is a simple JavaScript function.</p>

<p>In this lab, you’ll create a functional component to hold the contents of the page footer.</p>

<ol>
<li>Create a new file named <strong>Footer.jsx</strong> in the <strong>src</strong> directory.</li>

<li>Type the code below into <strong>Footer.jsx</strong>:</li>

<pre><code class="language-javascript">
function Footer() {
  const footerStyle = {
 backgroundColor: &#x27;black&#x27;,
 color: &#x27;white&#x27;,
 padding: &#x27;10px&#x27;,
 position: &#x27;fixed&#x27;,
 left: &#x27;0&#x27;,
 bottom: &#x27;0&#x27;,
 margin: &#x27;0&#x27;,
 width: &#x27;100%&#x27;,
  };

  return &lt;p style={footerStyle}&gt;This is the footer.&lt;/p&gt;;
}

export default Footer;
</code></pre>

<li>Add the following to the beginning of <strong>App.jsx</strong>:</li>

<pre><code class="language-javascript">
import Footer from &#x27;./Footer.jsx&#x27;;
</code></pre>

<li>Add the following inside <strong>App.jsx</strong> (before <code>&lt;/&gt;</code>):</li>

<pre><code class="language-javascript">
&lt;Footer /&gt;
</code></pre>

<li>Start the app (if it’s not already running) and view it in your browser.</li>

<p><img src="lab02f001.png" alt="Footer example" style="max-width: 100%; height: auto;" /></p>



</ol>
<hr>

<h1 id="lab-03-create-more-components-and-writing-tests" class="main-title">Lab 03: Create More Components and Writing Tests</h1>

<p>In this lab, you’ll make your React application more modular by turning the main parts of the view into components, then you’ll create simple tests for your new components.</p>

<h3 id="part-1-making-new-components">Part 1: Making new components</h3>

<ol>
<li>Using what you learned from creating <strong>Footer.jsx</strong>, make <strong>Header.jsx</strong> and <strong>ClickCounter.jsx</strong> to replace code in <strong>App.jsx</strong>.</li>

<p>At the end of this lab, your page should look the same as it does at the beginning when opened in a browser.</p>

<p>Your finished return statement in <strong>App.jsx</strong> should match this:</p>

<pre><code class="language-javascript">
return (
  &lt;div className=&quot;App&quot;&gt;
 &lt;Header /&gt;
 &lt;ClickCounter /&gt;
 &lt;Footer /&gt;
  &lt;/div&gt;
);
</code></pre>

<p>Note: For the ClickCounter component to continue working, you’ll need to move the <code>useState</code> import and the initialization of the <code>count</code> and <code>setCount</code> variables to <strong>ClickCounter.jsx</strong>.</p>

</ol>
<h3 id="part-2-writing-tests">Part 2: Writing tests</h3>

<p>To get started with testing, you’ll need to install several dependencies, add a testing configuration to the Vite config file, and create a new test script in <code>package.json</code>. Follow these steps:</p>

<ol>
<li>Install vitest and several other dependencies by running the following npm install commands in the terminal:</li>

<pre><code class="language-bash">
npm install --save-dev vitest
npm install --save-dev jsdom
npm install --save-dev @testing-library/jest-dom
npm install --save-dev @testing-library/react
npm install --save-dev @vitest/coverage-v8
</code></pre>

<li>Add the testing config to <code>vite.config.js</code>:</li>

<pre><code class="language-javascript">
import { defineConfig } from &#x27;vite&#x27;;
import react from &#x27;@vitejs/plugin-react&#x27;;

export default defineConfig({
  plugins: [react()],
  test: { globals: true, environment: &#x27;jsdom&#x27; },
});
</code></pre>

<li>Add a test script to <code>package.json</code>:</li>

<pre><code class="language-json">
&quot;scripts&quot;: {
  &quot;dev&quot;: &quot;vite&quot;,
  &quot;test&quot;: &quot;vitest --environment jsdom&quot;
}
</code></pre>

<li>Create a new file named <code>App.test.jsx</code> inside <code>src</code>.</li>

<li>Enter the following code into <code>App.test.jsx</code>:</li>

<pre><code class="language-javascript">
import { describe, expect, it } from &#x27;vitest&#x27;;
import { render, screen } from &#x27;@testing-library/react&#x27;;
import &#x27;@testing-library/jest-dom/vitest&#x27;;
import App from &#x27;./App.jsx&#x27;;

describe(&#x27;App Component&#x27;, () =&gt; {
  it(&#x27;Renders&#x27;, () =&gt; {
 render(&lt;App /&gt;);
 let element = screen.getByText(/Bookstore/i);
 expect(element).toBeInTheDocument();
  });
});
</code></pre>

<li>Run your test script and confirm that your test passes:</li>

<pre><code class="language-bash">
npm run test
</code></pre>

<li>Make copies of <strong>App.test.jsx</strong> for testing <strong>Footer.jsx</strong>, <strong>Header.jsx</strong>, and <strong>ClickCounter.jsx</strong>.</li>

<li>Modify the contents of the new files to test that the new components render.</li>

<li>Run your tests by entering the following in the command line:</li>

<pre><code class="language-bash">
npm run test
</code></pre>

<li>Make sure that all the tests pass.</li>



</ol>
<hr>

<h1 id="lab-04-static-version" class="main-title">Lab 04: Static Version</h1>

<p>The first step in creating a React UI is to create a static version. In this lab, you’ll start with a mockup of the react-bookstore application, and you’ll create components to make a mockup of the catalog.</p>

<ol>
<li>Open <strong>professional-reactjs/starter/lab04/</strong>.</li>

<p>   You’ll see three folders: <strong>data</strong>, <strong>images</strong>, and <strong>mockup</strong>.</p>

<li>Open <strong>data/products.json</strong> in your code editor.</li>

<p>   This is a file in JavaScript Object Notation (JSON) containing 100 great books. We’ll be building a store using this data.</p>

<li>Open <strong>starter/lab04/mockup</strong> and look at the <strong>mockup.png</strong> image.</li>

<p>   This image shows what the final store and shopping cart should look like.</p>

<li>Figure out how you might divide the user interface shown in <strong>mockup.png</strong> into a hierarchy of components. Make a quick drawing on paper, or in MS Paint, or however you like. Check out <strong>mockup-components.png</strong> if you want to see one way it can be done.</li>

<p>   <strong>Hint 1:</strong> If two components need to access the same piece of data, they should have a common parent that holds this data.</p>

<p>   <strong>Hint 2:</strong> Look for repeating elements that can be made into components.</p>

<li>Move the <strong>data</strong> directory from the <strong>/starter/lab04</strong> directory into the <strong>src</strong> directory inside your <strong>react-bookstore</strong> project.</li>

<li>Move the <strong>images</strong> directory into the <strong>public</strong> directory.</li>

<li>Open the <strong>App.jsx</strong> component in your project and modify it to the following.</li>

<p>   <strong>NOTE:</strong> Some of the components referenced in this code don’t exist yet. You’ll be creating them in the next step.</p>

<pre><code class="language-javascript">
import Header from &#x27;./Header.jsx&#x27;;
import ProductList from &#x27;./ProductList.jsx&#x27;;
import Cart from &#x27;./Cart.jsx&#x27;;
import Footer from &#x27;./Footer.jsx&#x27;;
import &#x27;./App.css&#x27;;

function App() {
  return (
    &lt;&gt;
      &lt;Header /&gt;
      &lt;ProductList /&gt;
      &lt;Cart /&gt;
      &lt;Footer /&gt;
    &lt;/&gt;
  );
}

export default App;
</code></pre>

<li>Create basic components for ProductList and Cart and their sub-components. Don’t worry about styling them, but try to make each one contain the basic information (without images at this point) as in the mockup.</li>

<li>Create basic tests for each of the new components, using the same structure you used in the previous lab.</li>

<li>Run <code>npm run dev</code> to verify that your code builds. Your UI should now look something like this:</li>

<p><img src="lab04f001.png" alt="Graphical user interface Description automatically generated with low confidence" style="max-width: 100%; height: auto;" /></p>



</ol>
<hr>

<h1 id="lab-05-nodejs-command-line-program-for-data-management" class="main-title">Lab 05: Node.js Command Line Program for Data Management</h1>

<p>In this lab, you'll create a Node.js command-line program that demonstrates modern JavaScript techniques while managing book data for your React bookstore project. This program will allow you to add new books to the <code>products.json</code> file using ES6 classes, async/await, destructuring, template literals, and other modern JavaScript features.</p>

<h3 id="prerequisites">Prerequisites</h3>

<p>Before starting this lab, ensure you've completed Lab 04 and have the <code>data</code> folder with <code>products.json</code> in your <code>react-bookstore/src</code> directory.</p>

<h3 id="instructions">Instructions</h3>

<ol>
<li>Navigate to your <code>react-bookstore</code> project directory and create a new folder called <code>tools</code>:</li>

<pre><code class="language-bash">
cd react-bookstore
mkdir tools
cd tools
</code></pre>

<li>Create a new file called <code>book-manager.js</code> in the <code>tools</code> directory:</li>

<pre><code class="language-bash">
touch book-manager.js
</code></pre>

<li>Open <code>book-manager.js</code> and start by importing the required Node.js modules using ES6 import syntax. Add the following at the top of your file:</li>

<pre><code class="language-javascript">
import fs from &#x27;fs/promises&#x27;;
import path from &#x27;path&#x27;;
import readline from &#x27;readline&#x27;;
import { fileURLToPath } from &#x27;url&#x27;;
</code></pre>

<li>Set up the file path configuration using modern JavaScript techniques:</li>

<pre><code class="language-javascript">
// Get current directory path for ES modules
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Path to the products.json file
const PRODUCTS_FILE = path.join(
  __dirname,
  &#x27;..&#x27;,
  &#x27;src&#x27;,
  &#x27;data&#x27;,
  &#x27;products.json&#x27;
);
</code></pre>

<li>Create a <code>Book</code> class that represents a book entity with modern class syntax and methods:</li>

<pre><code class="language-javascript">
class Book {
  constructor({
    title,
    author,
    country,
    language,
    pages,
    published,
    price,
    image = &#x27;&#x27;,
    url = &#x27;&#x27;,
  }) {
    this.id = this.generateId();
    this.title = title;
    this.author = author;
    this.country = country || &#x27;Unknown&#x27;;
    this.language = language || &#x27;English&#x27;;
    this.pages = pages;
    this.published = published;
    this.price = price;
    this.image = image;
    this.url = url;
  }

  generateId() {
    return `book_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
  }

  // Method to validate book data
  validate() {
    const required = [&#x27;title&#x27;, &#x27;author&#x27;, &#x27;pages&#x27;, &#x27;published&#x27;, &#x27;price&#x27;];
    const missing = required.filter((field) =&gt; !this[field]);

    if (missing.length &gt; 0) {
      throw new Error(`Missing required fields: ${missing.join(&#x27;, &#x27;)}`);
    }

    if (isNaN(this.pages) || this.pages &lt;= 0) {
      throw new Error(&#x27;Pages must be a positive number&#x27;);
    }

    if (isNaN(this.price) || this.price &lt;= 0) {
      throw new Error(&#x27;Price must be a positive number&#x27;);
    }
  }

  // Method to format book for display
  toString() {
    return `&quot;${this.title}&quot; by ${this.author} (${this.published}) - $${this.price}`;
  }
}
</code></pre>

<li>Create a <code>BookManager</code> class that handles file operations using async/await:</li>

<pre><code class="language-javascript">
class BookManager {
  constructor(filePath) {
    this.filePath = filePath;
  }

  // Read existing books from JSON file
  async loadBooks() {
    try {
      const data = await fs.readFile(this.filePath, &#x27;utf8&#x27;);
      return JSON.parse(data);
    } catch (error) {
      if (error.code === &#x27;ENOENT&#x27;) {
        console.log(&#x27;Products file not found. Creating new file...&#x27;);
        return [];
      }
      throw new Error(`Error reading books file: ${error.message}`);
    }
  }

  // Save books to JSON file
  async saveBooks(books) {
    try {
      const jsonData = JSON.stringify(books, null, 2);
      await fs.writeFile(this.filePath, jsonData, &#x27;utf8&#x27;);
      console.log(
        `✅ Successfully saved ${books.length} books to ${this.filePath}`
      );
    } catch (error) {
      throw new Error(`Error saving books: ${error.message}`);
    }
  }

  // Add a new book to the collection
  async addBook(bookData) {
    try {
      const book = new Book(bookData);
      book.validate();

      const books = await this.loadBooks();
      books.push(book);

      await this.saveBooks(books);
      console.log(`📚 Added new book: ${book.toString()}`);
      return book;
    } catch (error) {
      throw new Error(`Failed to add book: ${error.message}`);
    }
  }

  // Display all books
  async listBooks() {
    try {
      const books = await this.loadBooks();

      if (books.length === 0) {
        console.log(&#x27;No books found in the collection.&#x27;);
        return;
      }

      console.log(&#x27;\n📖 Current Book Collection:&#x27;);
      console.log(&#x27;=&#x27;.repeat(50));

      books.forEach((book, index) =&gt; {
        console.log(`${index + 1}. ${book.title}`);
        console.log(`   Author: ${book.author}`);
        console.log(
          `   Published: ${book.published} | Pages: ${book.pages} | Price: $${book.price}`
        );
        console.log(&#x27;&#x27;);
      });

      console.log(`Total books: ${books.length}`);
    } catch (error) {
      console.error(`Error listing books: ${error.message}`);
    }
  }
}
</code></pre>

<li>Create a user interface class using readline for interactive input:</li>

<pre><code class="language-javascript">
class BookCLI {
  constructor() {
    this.rl = readline.createInterface({
      input: process.stdin,
      output: process.stdout,
    });
    this.manager = new BookManager(PRODUCTS_FILE);
  }

  // Promisify readline question
  question(prompt) {
    return new Promise((resolve) =&gt; {
      this.rl.question(prompt, resolve);
    });
  }

  // Main menu
  async showMenu() {
    console.log(&#x27;\n📚 Book Manager CLI&#x27;);
    console.log(&#x27;==================&#x27;);
    console.log(&#x27;1. Add a new book&#x27;);
    console.log(&#x27;2. List all books&#x27;);
    console.log(&#x27;3. Exit&#x27;);

    const choice = await this.question(&#x27;\nEnter your choice (1-3): &#x27;);
    return choice.trim();
  }

  // Get book information from user
  async getBookInfo() {
    console.log(&#x27;\n📖 Enter book information:&#x27;);

    const title = await this.question(&#x27;Title: &#x27;);
    const author = await this.question(&#x27;Author: &#x27;);
    const country = await this.question(&#x27;Country (optional): &#x27;);
    const language = await this.question(&#x27;Language (default: English): &#x27;);
    const pages = await this.question(&#x27;Number of pages: &#x27;);
    const published = await this.question(&#x27;Publication year: &#x27;);
    const price = await this.question(&#x27;Price ($): &#x27;);
    const imageUrl = await this.question(&#x27;Image URL (optional): &#x27;);
    const bookUrl = await this.question(&#x27;Book URL (optional): &#x27;);

    return {
      title: title.trim(),
      author: author.trim(),
      country: country.trim(),
      language: language.trim() || &#x27;English&#x27;,
      pages: parseInt(pages),
      published: parseInt(published),
      price: parseFloat(price),
      image: imageUrl.trim(),
      url: bookUrl.trim(),
    };
  }

  // Main application loop
  async run() {
    console.log(&#x27;🚀 Welcome to the Book Manager CLI!&#x27;);

    try {
      while (true) {
        const choice = await this.showMenu();

        switch (choice) {
          case &#x27;1&#x27;:
            try {
              const bookData = await this.getBookInfo();
              await this.manager.addBook(bookData);
            } catch (error) {
              console.error(`❌ Error: ${error.message}`);
            }
            break;

          case &#x27;2&#x27;:
            await this.manager.listBooks();
            break;

          case &#x27;3&#x27;:
            console.log(&#x27;👋 Goodbye!&#x27;);
            this.rl.close();
            return;

          default:
            console.log(&#x27;❌ Invalid choice. Please try again.&#x27;);
        }
      }
    } catch (error) {
      console.error(`❌ Application error: ${error.message}`);
    } finally {
      this.rl.close();
    }
  }
}
</code></pre>

<li>Add the main execution code using modern JavaScript patterns:</li>

<pre><code class="language-javascript">
// Main execution with error handling
async function main() {
  try {
    const cli = new BookCLI();
    await cli.run();
  } catch (error) {
    console.error(`❌ Fatal error: ${error.message}`);
    process.exit(1);
  }
}

// Execute only if this file is run directly
if (import.meta.url === `file://${process.argv[1]}`) {
  main();
}

// Export classes for potential reuse
export { Book, BookManager, BookCLI };
</code></pre>

<li>Test your command-line program by running it:</li>

<pre><code class="language-bash">
node tools/book-manager.js
</code></pre>

<p>   The program should display a menu and allow you to add books or list existing ones.</p>

<p>   <img src="lab05f001.png" alt="Command line interface showing the book manager menu" style="max-width: 100%; height: auto;" /></p>

</ol>
<h3 id="modern-javascript-features-demonstrated">Modern JavaScript Features Demonstrated</h3>

<p>This lab demonstrates several modern JavaScript features:</p>

<ul>
<li><strong>ES6 Classes</strong>: <code>Book</code>, <code>BookManager</code>, and <code>BookCLI</code> classes with constructor and methods</li>
<li><strong>Async/Await</strong>: File operations and user input handling</li>
<li><strong>Destructuring Assignment</strong>: In the <code>Book</code> constructor</li>
<li><strong>Template Literals</strong>: String interpolation throughout the code</li>
<li><strong>Arrow Functions</strong>: Used in array methods and promises</li>
<li><strong>Default Parameters</strong>: In the <code>Book</code> constructor</li>
<li><strong>ES6 Modules</strong>: Import/export syntax</li>
<li><strong>Promises</strong>: Promisifying readline and file operations</li>
<li><strong>Error Handling</strong>: Try/catch blocks with async functions</li>
<li><strong>Array Methods</strong>: <code>filter()</code>, <code>forEach()</code>, <code>join()</code></li>

</ul>
<h3 id="challenge-exercises">Challenge Exercises</h3>

<ol>
<li>Add a search feature to find books by title or author</li>
<li>Implement a delete book functionality</li>
<li>Add data validation for duplicate books</li>
<li>Export the book list to different formats (CSV, XML)</li>
<li>Add book categories and filtering options</li>

</ol>
<h3 id="next-steps">Next Steps</h3>

<p>The books you add using this command-line tool will be available in your React application when you continue with the remaining labs!</p>



<hr>

<h1 id="lab-06-styling-react" class="main-title">Lab 06: Styling React</h1>

<p>In this lab, you’ll learn how to style your React components using CSS and inline styles.</p>

<ol>
<li>Open your React project in your code editor.</li>

<li>Create a new CSS file named <code>styles.css</code> in the <code>src</code> directory.</li>

<li>Add the following styles to <code>styles.css</code>:</li>

<pre><code class="language-css">
body {
  font-family: Arial, sans-serif;
  background-color: #f4f4f4;
  margin: 0;
  padding: 0;
}

h1 {
  color: #333;
}

button {
  background-color: #007bff;
  color: white;
  border: none;
  padding: 10px 20px;
  cursor: pointer;
}

button:hover {
  background-color: #0056b3;
}
</code></pre>

<li>Import the <code>styles.css</code> file into your <code>App.jsx</code> file:</li>

<pre><code class="language-javascript">
import &#x27;./styles.css&#x27;;
</code></pre>

<p>Your application should now show the updated styling:</p>

<p><img src="lab06f001.png" alt="Application with basic CSS styling applied" style="max-width: 100%; height: auto;" /></p>

<li>Add inline styles to one of your components. For example, modify the <code>Footer.jsx</code> component to include inline styles:</li>

<pre><code class="language-javascript">
function Footer() {
  const footerStyle = {
 backgroundColor: &#x27;black&#x27;,
 color: &#x27;white&#x27;,
 padding: &#x27;10px&#x27;,
 position: &#x27;fixed&#x27;,
 left: &#x27;0&#x27;,
 bottom: &#x27;0&#x27;,
 width: &#x27;100%&#x27;,
 textAlign: &#x27;center&#x27;,
  };

  return &lt;footer style={footerStyle}&gt;This is the footer.&lt;/footer&gt;;
}

export default Footer;
</code></pre>

<li>Run your application and verify that the styles are applied correctly.</li>

<p>Your footer should now appear styled with the inline styles:</p>

<p><img src="lab06f002.png" alt="Footer component with inline styles applied" style="max-width: 100%; height: auto;" /></p>

<li>Experiment with adding more styles to your components and CSS file.</li>



</ol>
<hr>

<h1 id="lab-07-props-and-containers" class="main-title">Lab 07: Props and Containers</h1>

<p>In this lab, you’ll learn how to use props to pass data between components and how to create container components.</p>

<ol>
<li>Open your React project in your code editor.</li>

<li>Create a new component named <code>Book.jsx</code> in the <code>src</code> directory:</li>

<pre><code class="language-javascript">
function Book({ title, author }) {
  return (
 &lt;div&gt;
   &lt;h2&gt;{title}&lt;/h2&gt;
   &lt;p&gt;by {author}&lt;/p&gt;
 &lt;/div&gt;
  );
}

export default Book;
</code></pre>

<li>Create a new component named <code>BookList.jsx</code> in the <code>src</code> directory:</li>

<pre><code class="language-javascript">
import Book from &#x27;./Book&#x27;;

function BookList() {
  const books = [
 { title: &#x27;React for Beginners&#x27;, author: &#x27;Chris Minnick&#x27; },
 { title: &#x27;Advanced React&#x27;, author: &#x27;John Doe&#x27; },
  ];

  return (
 &lt;div&gt;
   {books.map((book, index) =&gt; (
     &lt;Book key={index} title={book.title} author={book.author} /&gt;
   ))}
 &lt;/div&gt;
  );
}

export default BookList;
</code></pre>

<li>Import and use the <code>BookList</code> component in your <code>App.jsx</code> file:</li>

<pre><code class="language-javascript">
import BookList from &#x27;./BookList&#x27;;

function App() {
  return (
 &lt;div&gt;
   &lt;h1&gt;Welcome to React Bookstore&lt;/h1&gt;
   &lt;BookList /&gt;
 &lt;/div&gt;
  );
}

export default App;
</code></pre>

<li>Run your application and verify that the list of books is displayed correctly.</li>

<p>Your application should now display the book list with props being passed correctly:</p>

<p><img src="lab07f001.png" alt="Book list component showing props in action" style="max-width: 100%; height: auto;" /></p>

<li>Experiment with adding more books to the <code>books</code> array in <code>BookList.jsx</code>.</li>



</ol>
<hr>

<h1 id="lab-08-adding-state" class="main-title">Lab 08: Adding State</h1>

<p>In this lab, you’ll learn how to use React’s <code>useState</code> hook to add state to your components.</p>

<ol>
<li>Open your React project in your code editor.</li>

<li>Create a new component named <code>Counter.jsx</code> in the <code>src</code> directory:</li>

<pre><code class="language-javascript">
import { useState } from &#x27;react&#x27;;

function Counter() {
  const [count, setCount] = useState(0);

  const increment = () =&gt; {
 setCount(count + 1);
  };

  const decrement = () =&gt; {
 setCount(count - 1);
  };

  return (
 &lt;div&gt;
   &lt;h2&gt;Counter&lt;/h2&gt;
   &lt;p&gt;Count: {count}&lt;/p&gt;
   &lt;button onClick={increment}&gt;Increment&lt;/button&gt;
   &lt;button onClick={decrement}&gt;Decrement&lt;/button&gt;
 &lt;/div&gt;
  );
}

export default Counter;
</code></pre>

<li>Import and use the <code>Counter</code> component in your <code>App.jsx</code> file:</li>

<pre><code class="language-javascript">
import Counter from &#x27;./Counter&#x27;;

function App() {
  return (
 &lt;div&gt;
   &lt;h1&gt;Welcome to React Bookstore&lt;/h1&gt;
   &lt;Counter /&gt;
 &lt;/div&gt;
  );
}

export default App;
</code></pre>

<li>Run your application and verify that the counter works correctly.</li>

<p>You should see the counter component with functioning buttons:</p>

<p><img src="lab08f001.png" alt="Counter component showing initial state" style="max-width: 100%; height: auto;" /></p>

<p>After clicking the increment button a few times, you should see the state updating:</p>

<p><img src="lab08f002.png" alt="Counter component showing updated state after incrementing" style="max-width: 100%; height: auto;" /></p>

<li>Experiment with adding more state variables to the <code>Counter</code> component, such as a <code>step</code> variable to control the increment/decrement amount.</li>



</ol>
<hr>

<h1 id="lab-09-interactions-events-and-callbacks" class="main-title">Lab 09: Interactions, Events, and Callbacks</h1>

<p>In this lab, you’ll learn how to handle user interactions and events in React components.</p>

<ol>
<li>Open your React project in your code editor.</li>

<li>Create a new component named <code>Button.jsx</code> in the <code>src</code> directory:</li>

<pre><code class="language-javascript">
function Button({ label, onClick }) {
  return &lt;button onClick={onClick}&gt;{label}&lt;/button&gt;;
}

export default Button;
</code></pre>

<li>Create a new component named <code>ButtonGroup.jsx</code> in the <code>src</code> directory:</li>

<pre><code class="language-javascript">
import Button from &#x27;./Button&#x27;;

function ButtonGroup() {
  const handleClick = (label) =&gt; {
 alert(`You clicked: ${label}`);
  };

  return (
 &lt;div&gt;
   &lt;Button label=&quot;Button 1&quot; onClick={() =&gt; handleClick(&#x27;Button 1&#x27;)} /&gt;
   &lt;Button label=&quot;Button 2&quot; onClick={() =&gt; handleClick(&#x27;Button 2&#x27;)} /&gt;
   &lt;Button label=&quot;Button 3&quot; onClick={() =&gt; handleClick(&#x27;Button 3&#x27;)} /&gt;
 &lt;/div&gt;
  );
}

export default ButtonGroup;
</code></pre>

<li>Import and use the <code>ButtonGroup</code> component in your <code>App.jsx</code> file:</li>

<pre><code class="language-javascript">
import ButtonGroup from &#x27;./ButtonGroup&#x27;;

function App() {
  return (
 &lt;div&gt;
   &lt;h1&gt;Welcome to React Bookstore&lt;/h1&gt;
   &lt;ButtonGroup /&gt;
 &lt;/div&gt;
  );
}

export default App;
</code></pre>

<li>Run your application and verify that clicking each button displays the correct alert message.</li>

<li>Experiment with adding more buttons to the <code>ButtonGroup</code> component and handling different types of events, such as mouse hover or double-click.</li>



</ol>
<hr>

<h1 id="lab-10-component-lifecycle-and-ajax" class="main-title">Lab 10: Component Lifecycle and AJAX</h1>

<p>In this lab, you’ll learn about React’s component lifecycle methods and how to make AJAX requests in a React application.</p>

<ol>
<li>Open your React project in your code editor.</li>

<li>Create a new component named <code>UserList.jsx</code> in the <code>src</code> directory:</li>

<pre><code class="language-javascript">
import { useEffect, useState } from &#x27;react&#x27;;

function UserList() {
  const [users, setUsers] = useState([]);

  useEffect(() =&gt; {
 fetch(&#x27;https://jsonplaceholder.typicode.com/users&#x27;)
   .then((response) =&gt; response.json())
   .then((data) =&gt; setUsers(data));
  }, []);

  return (
 &lt;div&gt;
   &lt;h2&gt;User List&lt;/h2&gt;
   &lt;ul&gt;
     {users.map((user) =&gt; (
       &lt;li key={user.id}&gt;{user.name}&lt;/li&gt;
     ))}
   &lt;/ul&gt;
 &lt;/div&gt;
  );
}

export default UserList;
</code></pre>

<li>Import and use the <code>UserList</code> component in your <code>App.jsx</code> file:</li>

<pre><code class="language-javascript">
import UserList from &#x27;./UserList&#x27;;

function App() {
  return (
 &lt;div&gt;
   &lt;h1&gt;Welcome to React Bookstore&lt;/h1&gt;
   &lt;UserList /&gt;
 &lt;/div&gt;
  );
}

export default App;
</code></pre>

<li>Run your application and verify that the list of users is displayed correctly.</li>

<li>Experiment with adding more lifecycle-related functionality, such as cleaning up resources or handling errors in the <code>useEffect</code> hook.</li>



</ol>
<hr>

<h1 id="lab-11-converting-app-to-a-function-component" class="main-title">Lab 11: Converting App to a Function Component</h1>

<p>In this lab, you’ll convert a class-based React component into a function component using hooks.</p>

<ol>
<li>Open your React project in your code editor.</li>

<li>Create a new file named <code>ClassApp.jsx</code> in the <code>src</code> directory and add the following class-based component:</li>

<pre><code class="language-javascript">
import React, { Component } from &#x27;react&#x27;;

class ClassApp extends Component {
  constructor(props) {
 super(props);
 this.state = {
   message: &#x27;Hello, Class Component!&#x27;,
 };
  }

  updateMessage = () =&gt; {
 this.setState({ message: &#x27;Hello, Function Component!&#x27; });
  };

  render() {
 return (
   &lt;div&gt;
     &lt;h1&gt;{this.state.message}&lt;/h1&gt;
     &lt;button onClick={this.updateMessage}&gt;Update Message&lt;/button&gt;
   &lt;/div&gt;
 );
  }
}

export default ClassApp;
</code></pre>

<li>Create a new file named <code>FunctionApp.jsx</code> in the <code>src</code> directory and convert the class-based component into a function component:</li>

<pre><code class="language-javascript">
import { useState } from &#x27;react&#x27;;

function FunctionApp() {
  const [message, setMessage] = useState(&#x27;Hello, Function Component!&#x27;);

  const updateMessage = () =&gt; {
 setMessage(&#x27;Hello, Hooks!&#x27;);
  };

  return (
 &lt;div&gt;
   &lt;h1&gt;{message}&lt;/h1&gt;
   &lt;button onClick={updateMessage}&gt;Update Message&lt;/button&gt;
 &lt;/div&gt;
  );
}

export default FunctionApp;
</code></pre>

<li>Import and use the <code>FunctionApp</code> component in your <code>App.jsx</code> file:</li>

<pre><code class="language-javascript">
import FunctionApp from &#x27;./FunctionApp&#x27;;

function App() {
  return (
 &lt;div&gt;
   &lt;h1&gt;Welcome to React Bookstore&lt;/h1&gt;
   &lt;FunctionApp /&gt;
 &lt;/div&gt;
  );
}

export default App;
</code></pre>

<li>Run your application and verify that the function component works correctly.</li>

<li>Experiment with adding more hooks to the <code>FunctionApp</code> component, such as <code>useEffect</code> or <code>useReducer</code>.</li>



</ol>
<hr>

<h1 id="lab-12-creating-and-using-a-color-theme-context" class="main-title">Lab 12: Creating and using a color theme context</h1>

<p>React's Context API gives you a way to bypass passing data via props. Context is useful for data that's needed in many different components or that are deeply nested in the component hierarchy. In this lab, you'll create a color theme switcher.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Create a new folder named context inside src.</li>

<li>Create a new file named ThemeContext.jsx in your src/context directory.</li>

<li>Import createContext and useState into ThemeContext.jsx.</li>

<pre><code class="language-jsx">
import { createContext, useState } from &#x27;react&#x27;;
</code></pre>

<li>Use the createContext function to create a new context.</li>

<pre><code class="language-jsx">
const ThemeContext = createContext();
</code></pre>

<li>Create a provider component that will hold the state for the theme and provide it to the rest of the app.</li>

<pre><code class="language-jsx">
const ThemeProvider = ({ children }) =&gt; {
  const [theme, setTheme] = useState(&#x27;light&#x27;);

  const toggleTheme = () =&gt; {
 setTheme((prevTheme) =&gt; (prevTheme === &#x27;light&#x27; ? &#x27;dark&#x27; : &#x27;light&#x27;));
  };

  return (
 &lt;ThemeContext.Provider value={{ theme, toggleTheme }}&gt;
   {children}
 &lt;/ThemeContext.Provider&gt;
  );
};

export { ThemeProvider, ThemeContext };
</code></pre>

<li>In your main.jsx file, wrap your app with the ThemeProvider to make the theme context available throughout the app.</li>

<pre><code class="language-jsx">
import React from &#x27;react&#x27;;
import ReactDOM from &#x27;react-dom/client&#x27;;
import { ThemeProvider } from &#x27;./context/ThemeContext&#x27;;
import App from &#x27;./components/App.jsx&#x27;;
import &#x27;./index.css&#x27;;
import &#x27;bootstrap/dist/css/bootstrap.css&#x27;;

ReactDOM.createRoot(document.getElementById(&#x27;root&#x27;)).render(
  &lt;React.StrictMode&gt;
 &lt;ThemeProvider&gt;
   &lt;App /&gt;
 &lt;/ThemeProvider&gt;
  &lt;/React.StrictMode&gt;
);
</code></pre>

<p>Now you can use the ThemeContext in any component by importing the useContext hook and the ThemeContext. Let's try it with the footer.</p>

<li>Import useContext and ThemeContext into Footer.jsx.</li>

<pre><code class="language-jsx">
import React, { useContext } from &#x27;react&#x27;;
import { ThemeContext } from &#x27;./ThemeContext&#x27;;
</code></pre>

<li>Inside Footer(), pass the ThemeContext to useContext and destructure it to get the theme and the toggleTheme function.</li>

<pre><code class="language-jsx">
const { theme, toggleTheme } = useContext(ThemeContext);
</code></pre>

<li>Modify the footerStyle object to switch the backgroundColor and the color properties between white and black based on the value of theme.</li>

<pre><code class="language-jsx">
const footerStyle = {
  backgroundColor: theme === &#x27;light&#x27; ? &#x27;white&#x27; : &#x27;black&#x27;,
  color: theme === &#x27;light&#x27; ? &#x27;black&#x27; : &#x27;white&#x27;,
  padding: &#x27;10px&#x27;,
  position: &#x27;fixed&#x27;,
  left: &#x27;0&#x27;,
  bottom: &#x27;0&#x27;,
  margin: &#x27;0&#x27;,
  width: &#x27;100%&#x27;,
};
</code></pre>

<li>Add a button to the footer that will toggle the theme:</li>

<pre><code class="language-jsx">
return (
  &lt;p style={footerStyle}&gt;
 This is the footer.
 &lt;button onClick={toggleTheme}&gt;Toggle Theme&lt;/button&gt;
  &lt;/p&gt;
);
</code></pre>

<li>Run <code>npm run dev</code> and test it out!</li>

<li>See if you can figure out how to modify the theme of other components when you toggle the theme using the button in the Footer.</li>

<li>Run your tests and notice that the tests for App and Footer fail. To fix them, you need to import the ThemeProvider into their test files and wrap the element you're rendering with it, for example:</li>

<pre><code class="language-jsx">
describe(&#x27;Footer Component&#x27;, () =&gt; {
  it(&#x27;Renders&#x27;, () =&gt; {
 render(&lt;ThemeProvider&gt;&lt;Footer /&gt;&lt;/ThemeProvider&gt;);
 let element = screen.getByText(/footer/i);
 expect(element).toBeInTheDocument();
  });
});
</code></pre>



</ol>
<hr>

<h1 id="lab-13-custom-hooks" class="main-title">Lab 13: Custom Hooks</h1>

<p>Custom hooks aren't a built-in feature of React. Instead, they're a technique. A custom hook is a function that uses other hooks (such as useState and useEffect) to make reusable functionality available to components.</p>

<p>Follow these steps to create a custom hook to simplify the process of using the ThemeContext.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Open contexts/ThemeContext.jsx</li>

<li>Import useContext from react.</li>

<li>After the export statement for the ThemeProvider create a new module for the theme hook:</li>

<pre><code class="language-jsx">
export const useTheme = () =&gt; {
  const context = useContext(ThemeContext);
  
  if (!context) {
 throw new Error(&#x27;useTheme must be used within a ThemeProvider&#x27;);
  }
  
  return context;
};
</code></pre>

<li>Remove the imports of useContext and ThemeContext from Footer.jsx and replace it with the import for useTheme():</li>

<pre><code class="language-jsx">
import {useTheme} from &#x27;../contexts/ThemeContext&#x27;;
</code></pre>

<li>Remove the call to useContext and replace it with a call to useTheme():</li>

<pre><code class="language-jsx">
const { theme, toggleTheme } = useTheme();
</code></pre>

<li>Run <code>npm run dev</code> and test it out.</li>

<p>Hooks that aren't connected to Context are usually kept in a folder in src named hooks. For example, you could create a custom hook from the fetchData() function in App.jsx or from the shuffleData function. Doing so will simplify App and potentially make this functionality available to other components that may need it.</p>

<li>Create the src/hooks folder.</li>

<li>Create a new file in /hooks named useBooks.js</li>

<p>Notice that hooks aren't typically named with .jsx. This is because they don't return JSX.</p>

<li>Try to extract the fetchData functionality from App.jsx into a function named useBooks() that returns an array containing the products array and the isLoading status.</li>

<p>Check the solution file if you need help!</p>

<li>Remove the useState() and useEffect function calls from App.</li>

<li>Import useBooks() into App.jsx and use it to get the values of products and isLoading.</li>

<li><strong>Challenge:</strong> Create a useCart() hook that exports the itemsInCart array, the addToCart function, and the removeFromCart function.</li>



</ol>
<hr>

<h1 id="lab-14-converting-to-typescript" class="main-title">Lab 14: Converting to TypeScript</h1>

<p>In this lab, you'll convert the React bookstore to use TypeScript.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Install Typescript</li>

<pre><code class="language-bash">
npm install typescript --save-dev
</code></pre>

<li>Install types for React and ReactDom</li>

<pre><code class="language-bash">
npm install @types/react @types/react-dom --save-dev
</code></pre>

<li>In package.json, modify the dev and build scripts to compile the Typescript before running the app:</li>

<pre><code class="language-json">
&quot;dev&quot;: &quot;tsc &amp;&amp; vite&quot;,
&quot;build&quot;: &quot;tsc &amp;&amp; vite build&quot;,
</code></pre>

<li>Create a file named tsconfig.json at the root of your project, with the following content:</li>

<pre><code class="language-json">
{
  &quot;compilerOptions&quot;: {
 &quot;target&quot;: &quot;ESNext&quot;,
 &quot;useDefineForClassFields&quot;: true,
 &quot;lib&quot;: [&quot;DOM&quot;, &quot;DOM.Iterable&quot;, &quot;ESNext&quot;],
 &quot;allowJs&quot;: true,
 &quot;skipLibCheck&quot;: true,
 &quot;esModuleInterop&quot;: false,
 &quot;allowSyntheticDefaultImports&quot;: true,
 &quot;allowImportingTsExtensions&quot;: true,
 &quot;strict&quot;: true,
 &quot;forceConsistentCasingInFileNames&quot;: true,
 &quot;module&quot;: &quot;ESNext&quot;,
 &quot;moduleResolution&quot;: &quot;Node&quot;,
 &quot;resolveJsonModule&quot;: true,
 &quot;isolatedModules&quot;: true,
 &quot;noEmit&quot;: true,
 &quot;jsx&quot;: &quot;react-jsx&quot;
  },
  &quot;include&quot;: [&quot;src&quot;]
}
</code></pre>

<li>Rename App.jsx to App.tsx and update the link to App from main.js.</li>

<p>You should now see a lot of red underlining in VS Code.</p>

<li>Create a new folder named types inside src.</li>

<li>Make a file in types named book.tsx and create an interface for Book:</li>

<pre><code class="language-tsx">
export interface Book {
  id: string;
  title: string;
  author?: string;
  published?: string;
  country?: string;
  lang?: string;
  pages?: string;
  image?: string;
  url?: string;
  price: string;
}
</code></pre>

<li>Import the Book type from types/book.tsx into App.tsx.</li>

<li>Assign types to any state variables that you haven't extracted into custom hooks yet:</li>

<pre><code class="language-tsx">
const [itemsInCart, setItemsInCart] = useState&lt;Array&lt;Book&gt;&gt;([]);
</code></pre>

<li>Assign types to the parameters of addToCart and removeFromCart. For example:</li>

<pre><code class="language-tsx">
function addToCart(product: Book) {
</code></pre>

<li>Test out the app to make sure it still works.</li>

<li>Rename ProductList.jsx to ProductList.tsx</li>

<li>Install the CSS modules typescript plugin</li>

<pre><code class="language-bash">
npm install typescript-plugin-css-modules --save-dev
</code></pre>

<li>Rename Footer.jsx to Footer.tsx</li>

<li>Add the following import to Footer.tsx:</li>

<pre><code class="language-tsx">
import { CSSProperties } from &#x27;react&#x27;;
</code></pre>

<li>Annotate footerStyle using the CSSProperties interface:</li>

<pre><code class="language-tsx">
const footerStyle: CSSProperties =
</code></pre>

<li>Add the css modules typescript plugin to the compilerOptions object in tsconfig.json:</li>

<pre><code class="language-json">
&quot;plugins&quot;: [{ &quot;name&quot;: &quot;typescript-plugin-css-modules&quot;}]
</code></pre>

<li>Create a new file named Globals.d.ts inside src, with the following content:</li>

<pre><code class="language-typescript">
declare module &#x27;*.module.css&#x27;;
</code></pre>

<li>Create a new file in /types named product.ts and make an interface called ProductProps that contains the props received by ProductList.</li>

<pre><code class="language-typescript">
import { Book } from &#x27;./book&#x27;;

export type ProductProps = Book &amp; {
  inCart: boolean;
  addToCart: (product: Book) =&gt; void;
  removeFromCart: (id: string) =&gt; void;
};
</code></pre>

<p>Function types in the interface need to have their parameters and return values. If the function doesn't return anything, use void. For example:</p>

<pre><code class="language-typescript">
addToCart: (id: string) =&gt; void;
</code></pre>

<li>Import ProductProps into ProductList and specify the type of the props object received by ProductList:</li>

<pre><code class="language-tsx">
function ProductList(props: ProductProps) {
</code></pre>

<li>Convert the rest of the components to TypeScript.</li>



</ol>
<hr>

<h1 id="lab-15-testing-with-react-testing-library" class="main-title">Lab 15: Testing with React Testing Library</h1>

<p>In this lab, you'll use Vitest and React Testing Library to write more tests for your components.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Create a new directory outside of src and name it tests. Create a new file named setup.ts in tests with the following content:</li>

<pre><code class="language-typescript">
import &#x27;@testing-library/jest-dom/vitest&#x27;;
import { cleanup } from &#x27;@testing-library/react&#x27;;
import { expect, afterEach } from &#x27;vitest&#x27;;

afterEach(() =&gt; {
  cleanup();
});
</code></pre>

<li>Create a file named vitest.config.ts at the root of your project, with the following content:</li>

<pre><code class="language-typescript">
import { defineConfig } from &#x27;vitest/config&#x27;;
import react from &#x27;@vitejs/plugin-react&#x27;;
import tsconfigPaths from &#x27;vite-tsconfig-paths&#x27;;

export default defineConfig({
  plugins: [react(), tsconfigPaths()],
  test: {
 globals: true,
 environment: &#x27;jsdom&#x27;,
 setupFiles: &#x27;./tests/setup.ts&#x27;,
 coverage: {
   enabled: true,
   include: [&#x27;src/**/*.{js,jsx,ts,tsx}&#x27;],
   exclude: [&#x27;src/generated/**/*.ts&#x27;],
   reporter: [&#x27;text&#x27;, &#x27;html&#x27;],
 },
  },
});
</code></pre>

<li>Install some dependencies.</li>

<pre><code class="language-bash">
npm install --save-dev @vitejs/plugin-react
npm install --save-dev @vitest/ui
npm install --save-dev vite-tsconfig-paths
</code></pre>

<li>Modify your test script in package.json:</li>

<pre><code class="language-json">
&quot;test&quot;: &quot;vitest --ui&quot;,
</code></pre>

<li>Run <code>npm test</code> in the root of your project. The results will appear in the terminal and the vitest ui will open in a browser window.</li>

<p>You probably already have some basic tests that you created in previous labs. However, because of changes to the components you're testing, your tests may not all pass.</p>

<li>Update your existing tests so they all pass. You may need to use different methods from React Testing Library. Reference the testing library cheatsheet at the following URL to find additional queries to use:</li>

<p>https://testing-library.com/docs/react-testing-library/cheatsheet</p>

<li>When all your tests pass, you'll see a coverage report in the terminal, and you can access a coverage report in Vitest UI.</li>

<p>The Vitest UI should display your test results and coverage information:</p>

<p><img src="lab15f001.png" alt="Vitest UI showing test results and coverage report" style="max-width: 100%; height: auto;" /></p>

<li>Write more tests, refine your existing tests, and increase your test coverage %. See the solution for more ideas of tests to write and how to write them.</li>



</ol>
<hr>

<h1 id="lab-16-implementing-redux" class="main-title">Lab 16: Implementing Redux</h1>

<p>As your application grows, you may find it useful to transition to Redux. It's unlikely that our existing app would benefit at this point from Redux, but the process that we'll go through to convert it to Redux will show you the steps involved in a simplified example.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Install Redux, the react-redux library, and Redux toolkit.</li>

<pre><code class="language-bash">
npm install --save redux react-redux @reduxjs/toolkit
</code></pre>

</ol>
<h2 id="step-1-create-a-store" class="slide-title">Step 1: Create a store</h2>

<ol>
<li>In main.tsx, import configureStore from Redux toolkit.</li>

<pre><code class="language-tsx">
import { configureStore } from &#x27;@reduxjs/toolkit&#x27;;
</code></pre>

<li>In main.tsx, configure the store:</li>

<pre><code class="language-tsx">
const store = configureStore({ reducer: rootReducer });
</code></pre>

<li>Import combineReducers from redux.</li>

<pre><code class="language-tsx">
import {combineReducers} from &#x27;redux&#x27;;
</code></pre>

<li>Import Provider from react-redux.</li>

<pre><code class="language-tsx">
import {Provider} from &#x27;react-redux&#x27;;
</code></pre>

<li>Import the reducers (which we'll create in a moment).</li>

<pre><code class="language-tsx">
import {cart, products} from &#x27;./reducers&#x27;;
</code></pre>

<li>Create the root reducer.</li>

<pre><code class="language-tsx">
const rootReducer = combineReducers({
  cart: cart,
  products: products
});
</code></pre>

<li>Wrap the App component in a Provider and pass the store to Provider as a prop.</li>

<pre><code class="language-tsx">
createRoot(rootElement).render(
  &lt;Provider store={store}&gt;
 &lt;App /&gt;
  &lt;/Provider&gt;
);
</code></pre>

</ol>
<h2 id="step-2-write-the-reducers" class="slide-title">Step 2: Write the reducers</h2>

<ol>
<li>Create a directory in <strong>src</strong> named <strong>reducers</strong>.</li>

<li>Create <strong>index.js</strong> inside <strong>reducers</strong>.</li>

<p>The next step is to define the ways in which the state of the cart can change. Changes in redux happen in response to actions. So, our reducer needs to listen for certain actions that correspond to different changes in the state of the cart and then make those changes.</p>

<li>Write and export the cart reducer function as a module. The cart reducer contains a switch statement with a case for each possible action that can happen in the cart.</li>

<pre><code class="language-javascript">
export function cart(state = { items: [] }, action = {}){
  switch(action.type) {
 case &#x27;CART_ADD&#x27;:
   return; //todo: finish this
 case &#x27;CART_REMOVE&#x27;:
   return; //todo: finish this
 default:
   return state; //no relevant action type
  }
}
</code></pre>

<li>Inside the CART_ADD case, use the functionality from the addToCart function (in <strong>App.tsx</strong>) to add the productId passed by the action to the items array.</li>

<pre><code class="language-javascript">
case &#x27;CART_ADD&#x27;:
  return {
 ...state,
 items: [...state.items, action.payload],
  };
</code></pre>

<li>Inside the CART_REMOVE case, use the functionality from the removeFromCart function (in <strong>App.tsx</strong>) to remove the productId passed to it from the items array.</li>

<pre><code class="language-javascript">
case &#x27;CART_REMOVE&#x27;:
  return {
 ...state,
 items: state.items.filter(
   (item) =&gt; item.id !== action.payload.productId
 ),
  };
</code></pre>

<li>Write and export the products reducer function (also in <strong>reducers/index.js</strong>). It should have one case, named LOAD_PRODUCTS which will update the state with the list of products.</li>

<pre><code class="language-javascript">
export function products(state = { products: [] }, action = {}) {
  switch (action.type) {
 case &#x27;LOAD_PRODUCTS&#x27;:
   return {
     ...state,
     products: action.products
   };
 default:
   return state; //no relevant action type 
  }
}
</code></pre>

</ol>
<h2 id="step-3-write-the-actions-and-action-creators" class="slide-title">Step 3: Write the Actions and Action Creators</h2>

<ol>
<li>Create a new directory in <strong>src</strong>, named <strong>actions</strong>.</li>

<li>Create a file named <strong>index.js</strong> inside <strong>actions</strong>, then write (and export) the functions inside it that will create the actions that trigger changes to the state inside the reducers we just wrote.</li>

<pre><code class="language-javascript">
export function addToCart(product) {
  return {
 type: &#x27;CART_ADD&#x27;,
 payload: {
   ...product
 }
  }
}

export function removeFromCart(productId) {
  return {
 type: &#x27;CART_REMOVE&#x27;,
 payload: {
   productId
 }
  }
}

export function loadProducts(products) {
  return {type: &#x27;LOAD_PRODUCTS&#x27;, products}
}
</code></pre>

<p>Now that we have the action creators that will be dispatched when the user interacts with the application, and we have the reducers that will mutate the state in response to those actions, the last step is to hook up the user interactions (button clicks) to the dispatch of the actions.</p>

<li>Import the action creator functions, the connect method of react-redux, and the bindActionCreator method into <strong>pages/App.tsx</strong>.</li>

<pre><code class="language-tsx">
import * as actionCreators from &#x27;../actions&#x27;;
import {bindActionCreators} from &#x27;redux&#x27;;
import {connect} from &#x27;react-redux&#x27;;
</code></pre>

<li>In <strong>App.tsx</strong> (below the function, but above the export statement) map the state to props and bind the action creators to the dispatcher.</li>

<pre><code class="language-tsx">
const mapStateToProps = (state: any, props: any) =&gt; {
  return {
 itemsInCart: state.cart.items,
 products: state.products.products,
  };
};

const mapDispatchToProps = (dispatch: any, props: any) =&gt; {
  return bindActionCreators(actionCreators, dispatch);
};
</code></pre>

<li>Use the connect method to merge mapStateToProps and mapDispatchToProps into App in the export statement at the bottom of <strong>App.tsx</strong>.</li>

<pre><code class="language-tsx">
export default connect(mapStateToProps, mapDispatchToProps)(App);
</code></pre>

</ol>
<h2 id="step-4-modify-apptsx-to-use-the-redux-store" class="slide-title">Step 4: Modify App.tsx to use the Redux store.</h2>

<ol>
<li>In <strong>App.tsx</strong>, remove the following:</li>
</ol>
<ul>
<li>The useState function calls for itemsInCart and for products.</li>
<li>The addToCart method</li>
<li>The removeFromCart method</li>

</ul>
<ol>
<li>Make sure the props object is a parameter of App</li>

<pre><code class="language-tsx">
function App(props) {
</code></pre>

<li>Update the useEffect method to call the loadProducts method and pass it the products array from the custom hook. Make sure to put products into the dependency array so the effect with run when the custom hook returns the data.</li>

<pre><code class="language-tsx">
useEffect(() =&gt; {
  props.loadProducts(products);
}, [products]);
</code></pre>

<li>Modify the props passed to the ProductList and Cart components to use the props that are passed in from the connection to the Redux store.</li>

<pre><code class="language-tsx">
&lt;div className=&quot;col-md-8&quot;&gt;
  &lt;ProductList
 addToCart={props.addToCart}
 removeFromCart={props.removeFromCart}
 itemsInCart={props.itemsInCart}
 products={props.products}
  /&gt;
&lt;/div&gt;
&lt;div className=&quot;col-md-4&quot;&gt;
  &lt;Cart itemsInCart={props.itemsInCart} /&gt;
&lt;/div&gt;
</code></pre>

<li>Fix any typescript errors that you have.</li>

<li>Try converting reducers/index.js and actions/index.js to TypeScript.</li>

<p>Test it out! Everything should now work with no additional changes.</p>

<li>Add a 'Remove' button to the CartItem component that causes the item to be removed from the cart.</li>

</ol>
<h2 id="step-5-looking-at-redux-toolkit" class="slide-title">Step 5: Looking at Redux Toolkit</h2>

<ol>
<li>Redux Toolkit has a standard Vite template that demonstrates some best practices and patterns for using Redux. Run the following command outside of your react-bookstore folder to create a project with the Redux Toolkit template.</li>

<pre><code class="language-bash">
npx degit reduxjs/redux-templates/packages/vite-template-redux my-app
</code></pre>

<li>CD into the new project and run <code>npm install</code>.</li>

<li>Run <code>npm run dev</code> to see it running, then look through the code at how it works. Can you apply some of the other Redux Toolkit methods and conventions to the React Bookstore?</li>



</ol>
<hr>

<h1 id="lab-17-redux-thunk" class="main-title">Lab 17: Redux Thunk</h1>

<p>Redux Thunk middleware allows you to write action creators that return functions rather than actions. This function can be used to delay the dispatch of an action, to cause the action to only be dispatched if a condition is met, or to fetch data asynchronously, for example.</p>

<p>In this lab, you'll use Redux Thunk to post a message to a server and receive a response when a <strong>Checkout</strong> button is clicked in the Cart component.</p>

<p>We're going to write an action creator containing a function that will perform an HTTP post. We'll be using the built-in fetch() method to do the API request, and we'll use Redux Thunk with Redux Toolkit's createAsyncThunk function to make the request prior to running a reducer.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>We're going to write an action creator containing a function that will perform an HTTP post using the <strong>axios</strong> library. So, we'll need to install <strong>axios</strong> first.</li>

<pre><code class="language-bash">
npm install --save axios
</code></pre>

<li>In <strong>actions/index.ts</strong>, import axios at the beginning of the file.</li>

<pre><code class="language-typescript">
import axios from &#x27;axios&#x27;;
</code></pre>

<li>Import createAsyncThunk into actions/index.js:</li>

<pre><code class="language-typescript">
import { createAsyncThunk } from &#x27;@reduxjs/toolkit&#x27;;
</code></pre>

<li>In <strong>actions/index.js</strong>, add a new action creator for submitting the cart.</li>

<pre><code class="language-typescript">
export const submitCart = createAsyncThunk(&#x27;CHECKOUT&#x27;, async (data) =&gt; {
  const res = await axios.post(&#x27;http://localhost:8080/checkout&#x27;, data);
  return res.data;
});
</code></pre>

<li>Pass the submitCart action creator from App to the Cart.</li>

<pre><code class="language-jsx">
&lt;Cart removeFromCart={props.removeFromCart} submitCart = {props.submitCart} itemsInCart={props.itemsInCart}/&gt;
</code></pre>

<li>Add a button to the Cart that calls the submitCart method when clicked and passes props.cartItems into it. Wrap it in a div element so that it will appear below the cart items and the total.</li>

<pre><code class="language-jsx">
&lt;div&gt;&lt;button onClick={()=&gt;props.submitCart(props.itemsInCart)}&gt;
Check Out
&lt;/button&gt;&lt;/div&gt;
</code></pre>

<li>Run your app, add some items to the cart, and then open the Redux DevTools and click the Check Out button. You should see that the CHECKOUT/rejected action is dispatched.</li>

<li>Open a new terminal window and change to the <strong>starter/lab17/server</strong> directory.</li>

<li>Run <code>npm install</code> in the server directory</li>

<li>Run the server by entering <code>npm start</code>.</li>

<li>Click the <strong>Check Out</strong> button in the React app.</li>

<p>You should see that the CHECKOUT/fulfilled action was dispatched. In the browser console, you should see the return data from the server.</p>

<p>Right now, the React Bookstore doesn't do anything in response to the action, because we don't have a reducer that's listening for it. Let's fix that.</p>

<li>In <strong>reducers/index.js</strong>, write a new case in the cart reducer for the CHECKOUT action.</li>

<pre><code class="language-javascript">
case &#x27;CHECKOUT/fulfilled&#x27;:
  return {
  };
</code></pre>

<li>Inside the CHECKOUT case, we'll return the state, with the items array emptied, which will just empty the cart.</li>

<pre><code class="language-javascript">
case &#x27;CHECKOUT/fulfilled&#x27;:
  return {
 ...state,
 items: []
  };
</code></pre>

<li>Make sure that the server is running, then run <code>npm start</code> to build your React app and test it out by adding and removing items from the cart and then checking out.</li>



</ol>
<hr>

<h1 id="lab-18-persisting-data-in-localstorage-using-redux" class="main-title">Lab 18: Persisting data in localStorage using Redux</h1>

<p>Our application is now using React and Redux together. We've implemented an Ajax call to fetch the initial data for our store. But we have an opportunity for improvement. Note that every time you refresh the page, it forgets what was in the cart. What if our user wants to close the browser and then come back at a different time?</p>

<p>In this lab, we'll fix that by writing our cart to localStorage every time it changes. And we'll read the stored cart whenever the client starts up our application.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Add a new action creator to actions/index.js for reading the cart from localStorage:</li>

<pre><code class="language-javascript">
export function readCartFromLocalStorage() {
  let cart = localStorage.getItem(&#x27;itemsInCart&#x27;);
  cart = JSON.parse(cart);
  console.log(cart);
  return {
 type: &#x27;READ_CART&#x27;,
 payload: cart || [],
  };
}
</code></pre>

<li>Create a new reducer case for "READ_CART".</li>

<pre><code class="language-javascript">
case &#x27;READ_CART&#x27;:
  return {
 ...state,
 items: action.payload || [],
  };
</code></pre>

<li>Import readCartFromLocalStorage into useBooks.</li>

<li>Import useDispatch from react-redux into useBooks.</li>

<li>Call useDispatch inside useBooks() to return the dispatch function.</li>

<pre><code class="language-javascript">
const dispatch = useDispatch();
</code></pre>

<li>After the products are loaded, call dispatch(readCartFromLocalStorage);</li>

<li>Run and test. You should have no errors, but you should still see an empty cart.</li>

<p>Why? Because there is nothing in localStorage yet.</p>

<p>Let's write to localStorage now. We'll do it after every change to the cart.</p>

<p>We should write something to local storage after every change to the cart.</p>

<li>After the line in main.tsx that creates the store, subscribe localStorage to the store, so that whenever the store changes the cart will be written to localstorage:</li>

<pre><code class="language-javascript">
store.subscribe(() =&gt; {
  localStorage.setItem(
 &#x27;itemsInCart&#x27;,
 JSON.stringify(store.getState().cart.items)
  );
});
</code></pre>

<li>Run and test. Can you now add books and remove books and have them persist each time you re-visit the bookstore? If so, you've got it right!</li>



</ol>
<hr>

<h1 id="lab-19-react-router" class="main-title">Lab 19: React Router</h1>

<p>In this lab, you'll use React Router to create a separate route for the shopping cart.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>Install react-router-dom</li>

<pre><code class="language-bash">
npm install react-router-dom
</code></pre>

<li>Import BrowserRouter as Router into <strong>main.tsx</strong> and wrap the Router component around the <code>&lt;Provider&gt;</code> element in createRooter.render()</li>

<li>In <strong>App.tsx</strong>, import Routes and Route from react-router-dom.</li>

<li>In App's return statement, change the page layout to a 1-column layout by removing the <code>&lt;/div&gt;</code> and <code>&lt;div&gt;</code> from between Cart and ProductList and changing the className passed to the outside div to col-md-12.</li>

<li>Replace ProductList and Cart with a Routes component containing two Routes. The first should render ProductList when the path is exactly '/' and the second should render Cart when the path is '/cart'.</li>

<pre><code class="language-jsx">
&lt;Routes&gt;
  &lt;Route
 path=&quot;/&quot;
 element={
   &lt;ProductList
     products={products}
     itemsInCart={props.itemsInCart}
     addToCart={props.addToCart}
     removeFromCart={props.removeFromCart}
   /&gt;
 }
  /&gt;
  &lt;Route
 path=&quot;/cart&quot;
 element={
   &lt;Cart
     itemsInCart={props.itemsInCart}
     removeFromCart={props.removeFromCart}
     submitCart={props.submitCart}
   /&gt;
 }
  /&gt;
&lt;/Routes&gt;
</code></pre>

<li>Test it out. When you first start up the app (and the route is '/') it should display the ProductList, and if you change the url in the address bar to '/cart' it should display the cart. Everything should still work.</li>

<li>Import Link from react-router-dom into Header and create a nav bar that links to the home page and to the cart.</li>

<li><strong>Challenge:</strong> Make a Shopping Cart button component that displays the number of items in the cart in the header and that links to the shopping cart (using react-router-dom's Link component). You can use the fontawesome React component to render the icon: <strong>https://fontawesome.com/v5.15/how-to-use/on-the-web/using-with/react</strong></li>



</ol>
<hr>

<h1 id="lab-20-microfrontends-with-single-spa" class="main-title">Lab 20: Microfrontends with Single SPA</h1>

<p>In this lab, you'll use the Single SPA framework to create a microfrontend.</p>

<h2 id="instructions" class="slide-title">Instructions</h2>

<ol>
<li>In an empty directory that's not inside of any other Node project (no <strong>package.json</strong> at a higher level), open a new terminal window and invoke create-single-spa.</li>

<pre><code class="language-bash">
npx create-single-spa --moduleType root-config
</code></pre>

<li>Answer all the questions that create-single-spa asks, choosing the defaults whenever possible.</li>

<li>Run <strong>npm start</strong> in your new project and open a browser to <strong>http://localhost:9000</strong>.</li>

<p>You now have a root config and an example application. You'll see some instructions for what to do next in the sample application that's running at port 9000. Read through those instructions. We're going to use Single SPA to run two React applications and share dependencies between them.</p>

<li>Open a new terminal window and generate a single-spa application by running:</li>

<pre><code class="language-bash">
npx create-single-spa --moduleType app-parcel
</code></pre>

<li>When you're asked for a directory and a name for the application, name the directory something creative like 'app1' and the app 'my-first-app.'</li>

<li>Once it finishes, cd to your new directory and run <strong>npm start</strong>.</li>

<li>Open a browser and go to the localhost post that it gives you when it starts up. (probably localhost:8001).</li>

<li>Read through this page, but don't follow these instructions just yet.</li>

<li>Open <strong>src/index.ejs</strong> in your root config (not in your app1 subdirectory) and find the script element with type="systemjs-importmap". Since all of our microfrontends will use React, we need to add React and ReactDOM to this import map.</li>

<li>Go to <strong>https://cdnjs.com/libraries/react</strong> and get the latest link for the React library (it should have <strong>umd</strong> in the URL) and add it to the <strong>importmap</strong>, then do the same for the ReactDOM library (you can just copy the same url and change "react" to "react-dom" in the URL.</li>

<li>When you're finished, your importmap should look like this:</li>

<pre><code class="language-html">
&lt;script type=&quot;systemjs-importmap&quot;&gt;
{
  &quot;imports&quot;: {
 &quot;single-spa&quot;: &quot;https://cdn.jsdelivr.net/npm/single-spa@5.9.0/lib/system/single-spa.min.js&quot;,
 &quot;react&quot;: &quot;https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js&quot;,
 &quot;react-dom&quot;: &quot;https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js&quot;
  }
}
&lt;/script&gt;
</code></pre>

<li>Open <strong>src/microfrontend-layout.html</strong> and find the <code>&lt;route&gt;</code> element. Add your new application as a 2nd application. You can get the value for the name property from the <strong>package.json</strong> file in your <strong>app1</strong> directory. For example:</li>

<pre><code class="language-html">
&lt;application name=&quot;app1/@minnick/my-first-app&quot;&gt;&lt;/application&gt;
</code></pre>

<li>In your root config's <strong>src</strong> directory, open <strong>index.ejs</strong> and add your application to the importmap. Note that there are two importmaps in the file, and you should add your application to both. Here's an example of what you should add:</li>

<pre><code class="language-json">
&quot;@minnick/my-first-project&quot;: &quot;//localhost:8081/minnick-my-first-app.js&quot;,
</code></pre>

<li>Stop both your root config and you application and restart them. In your browser, you should now see a message saying that your application is mounted. It will look like this:</li>

<p>@minnick/my-first-app is mounted!</p>

<li>Remove the sample application from your <strong>src/index.ejs</strong> so your new application is the only one being rendered.</li>

<li>Create a second application and render that one in addition to the first.</li>

</ol>
<h2 id="bonus-lab-authentication-with-jwt" class="slide-title">Bonus Lab: Authentication with JWT</h2>

<p>In this lab, you'll learn how to implement authentication in the container component and then pass an authentication token to micro frontends.</p>

<ol>
<li>Read the following article to learn about implementing JWT in React</li>

<p>https://www.alibabacloud.com/blog/how-to-implement-authentication-in-reactjs-using-jwt_595820</p>

<li>Use this technique, or another of your choosing, to implement authentication and create a protected "Account Info" area in the bookstore app.</li>

</ol>
<h2 id="bonus-lab-react-asteroids" class="slide-title">Bonus Lab: React Asteroids</h2>

<p>Convert the JavaScript application you built in Lab 4 to a React application.</p>


  </body>
</html>
